<div class="config-container">
  <div class="config-card">
    <div class="header-with-lang">
      <h1>{{ translationService.t('app.title') }}</h1>
      <div class="header-controls">
        <app-language-switcher></app-language-switcher>
        <div class="hints-toggle">
          <label class="hints-toggle-label">
            <input 
              type="checkbox" 
              [(ngModel)]="showHints"
              (change)="toggleShowHints()"
            />
            <span>{{ translationService.t('ui.showHints') }}</span>
          </label>
        </div>
      </div>
    </div>

    <div class="input-section">
      <div class="input-group">
        <label for="codeLength">
          <span class="label-title">{{ translationService.t('basic.codeLength') }}</span>
        </label>
        <input 
          type="number" 
          id="codeLength"
          [(ngModel)]="codeLength"
          (ngModelChange)="validateCodeLength()"
          (blur)="validateCodeLength()"
          min="1"
          step="1"
          placeholder="e.g., 10"
        />
        @if (showHints) {
        <div class="examples">
          <strong>{{ translationService.t('basic.descriptionLabel') }}</strong>
          <p class="hint-text">{{ translationService.t('basic.codeLengthSubtitle') }}</p>
        </div>
        }
      </div>

      <div class="input-group">
        <label>
          <span class="label-title">{{ translationService.t('basic.prefixStrategy') }}</span>
        </label>
        <div class="radio-group">
          <label class="radio-option">
            <input 
              type="radio" 
              name="prefixStrategy" 
              value="date"
              [(ngModel)]="prefixStrategy"
              (ngModelChange)="savePrefixStrategy()"
            />
            <span>{{ translationService.t('basic.prefixDate') }}</span>
          </label>
          <label class="radio-option radio-option-with-input">
            <input 
              type="radio" 
              name="prefixStrategy" 
              value="static"
              [(ngModel)]="prefixStrategy"
              (ngModelChange)="savePrefixStrategy()"
            />
            <span>{{ translationService.t('basic.prefixStatic') }}:</span>
            <input 
              type="number" 
              id="staticPrefix"
              [(ngModel)]="staticPrefix"
              (ngModelChange)="validateStaticPrefix()"
              (blur)="validateStaticPrefix()"
              (click)="prefixStrategy = 'static'; savePrefixStrategy()"
              min="0"
              step="1"
              placeholder="123456"
              class="inline-prefix-input"
            />
          </label>
        </div>
        
        @if (showHints) {
        <div class="examples">
          <strong>{{ translationService.t('basic.descriptionLabel') }}</strong>
          <p class="hint-text">{{ translationService.t('basic.prefixStrategySubtitle') }}</p>
          <strong>{{ translationService.t('basic.exampleLabel') }}</strong>
          <ul>
            @if (prefixStrategy === 'date') {
            <li [innerHTML]="translationService.t('basic.exampleDate', { date: getPrefix(), code: getFirstCodeExample() })"></li>
            }
            @if (prefixStrategy === 'static') {
            <li [innerHTML]="translationService.t('basic.exampleStatic', { code: getFirstCodeExample() })"></li>
            }
          </ul>
        </div>
        }
      </div>

      <div class="input-group">
        <label for="startOffset">
          <span class="label-title">{{ translationService.t('basic.startOffset') }}</span>
        </label>
        <input 
          type="number" 
          id="startOffset"
          [(ngModel)]="startOffset"
          (input)="validateOffset()"
          (blur)="validateOffset()"
          min="0"
          [max]="getMaxOffset()"
          step="1"
          placeholder="0"
        />
        @if (showHints) {
        <div class="examples">
          <strong>{{ translationService.t('basic.descriptionLabel') }}</strong>
          <p class="hint-text">{{ translationService.t('basic.startOffsetSubtitle') }}</p>
          <strong>{{ translationService.t('basic.exampleLabel') }}</strong>
          <ul>
            <li [innerHTML]="translationService.t('basic.offsetExampleDynamic', { offset: startOffset, code: getOffsetExample(startOffset) })"></li>
          </ul>
        </div>
        }
      </div>

      <div class="counts-row">
        <div class="input-group">
          <label for="countFives">
            <span class="label-title">{{ translationService.t('basic.countFives') }}</span>
            <span class="label-subtitle">{{ translationService.t('basic.countFivesSubtitle') }}</span>
          </label>
          <input 
            type="number" 
            id="countFives"
            [(ngModel)]="countFives"
            (ngModelChange)="validateCountFives()"
            min="0"
            placeholder="0"
          />
        </div>

        <div class="input-group">
          <label for="countTens">
            <span class="label-title">{{ translationService.t('basic.countTens') }}</span>
            <span class="label-subtitle">{{ translationService.t('basic.countTensSubtitle') }}</span>
          </label>
          <input 
            type="number" 
            id="countTens"
            [(ngModel)]="countTens"
            (ngModelChange)="validateCountTens()"
            min="0"
            placeholder="0"
          />
        </div>
      </div>
    </div>

    <button 
      class="generate-btn" 
      (click)="generateLabels()"
      [disabled]="!hasAnyInput()"
    >
      {{ translationService.t('button.generate') }}
    </button>
  </div>
</div>
